<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Strophe: Event loop</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Strophe
   &#160;<span id="projectnumber">0.10</span>
   </div>
   <div id="projectbrief">XMPP client library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Event loop</div>  </div>
</div><!--header-->
<div class="contents">

<p>These functions manage the Strophe event loop.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga02816aa5ce34d97fe5bbde5f9c6956ce"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___event_loop.html#ga02816aa5ce34d97fe5bbde5f9c6956ce">xmpp_run_once</a> (xmpp_ctx_t *ctx, const unsigned long timeout)</td></tr>
<tr class="memdesc:ga02816aa5ce34d97fe5bbde5f9c6956ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run the event loop once.  <a href="group___event_loop.html#ga02816aa5ce34d97fe5bbde5f9c6956ce">More...</a><br /></td></tr>
<tr class="separator:ga02816aa5ce34d97fe5bbde5f9c6956ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga14ca97546803cf27c772fa8d2eabfffd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___event_loop.html#ga14ca97546803cf27c772fa8d2eabfffd">xmpp_run</a> (xmpp_ctx_t *ctx)</td></tr>
<tr class="memdesc:ga14ca97546803cf27c772fa8d2eabfffd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start the event loop.  <a href="group___event_loop.html#ga14ca97546803cf27c772fa8d2eabfffd">More...</a><br /></td></tr>
<tr class="separator:ga14ca97546803cf27c772fa8d2eabfffd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga44689e9b7782cec520ed60196e8c15c2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___event_loop.html#ga44689e9b7782cec520ed60196e8c15c2">xmpp_stop</a> (xmpp_ctx_t *ctx)</td></tr>
<tr class="memdesc:ga44689e9b7782cec520ed60196e8c15c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop the event loop.  <a href="group___event_loop.html#ga44689e9b7782cec520ed60196e8c15c2">More...</a><br /></td></tr>
<tr class="separator:ga44689e9b7782cec520ed60196e8c15c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>These functions manage the Strophe event loop. </p>
<p>Simple tools can use <a class="el" href="group___event_loop.html#ga14ca97546803cf27c772fa8d2eabfffd" title="Start the event loop.">xmpp_run()</a> and <a class="el" href="group___event_loop.html#ga44689e9b7782cec520ed60196e8c15c2" title="Stop the event loop.">xmpp_stop()</a> to manage the life cycle of the program. A common idiom is to set up a few initial event handers, call <a class="el" href="group___event_loop.html#ga14ca97546803cf27c772fa8d2eabfffd" title="Start the event loop.">xmpp_run()</a>, and then respond and react to events as they come in. At some point, one of the handlers will call <a class="el" href="group___event_loop.html#ga44689e9b7782cec520ed60196e8c15c2" title="Stop the event loop.">xmpp_stop()</a> to quit the event loop which leads to the program terminating.</p>
<p>More complex programs will have their own event loops, and should ensure that <a class="el" href="group___event_loop.html#ga02816aa5ce34d97fe5bbde5f9c6956ce" title="Run the event loop once.">xmpp_run_once()</a> is called regularly from there. For example, a GUI program will already include an event loop to process UI events from users, and <a class="el" href="group___event_loop.html#ga02816aa5ce34d97fe5bbde5f9c6956ce" title="Run the event loop once.">xmpp_run_once()</a> would be called from an idle function. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga02816aa5ce34d97fe5bbde5f9c6956ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga02816aa5ce34d97fe5bbde5f9c6956ce">&#9670;&nbsp;</a></span>xmpp_run_once()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void xmpp_run_once </td>
          <td>(</td>
          <td class="paramtype">xmpp_ctx_t *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned long&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Run the event loop once. </p>
<p>This function will run send any data that has been queued by xmpp_send and related functions and run through the Strophe even loop a single time, and will not wait more than timeout milliseconds for events. This is provided to support integration with event loops outside the library, and if used, should be called regularly to achieve low latency event handling.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>a Strophe context object </td></tr>
    <tr><td class="paramname">timeout</td><td>time to wait for events in milliseconds </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga14ca97546803cf27c772fa8d2eabfffd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga14ca97546803cf27c772fa8d2eabfffd">&#9670;&nbsp;</a></span>xmpp_run()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void xmpp_run </td>
          <td>(</td>
          <td class="paramtype">xmpp_ctx_t *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start the event loop. </p>
<p>This function continuously calls xmpp_run_once and does not return until xmpp_stop has been called.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>a Strophe context object </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga44689e9b7782cec520ed60196e8c15c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga44689e9b7782cec520ed60196e8c15c2">&#9670;&nbsp;</a></span>xmpp_stop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void xmpp_stop </td>
          <td>(</td>
          <td class="paramtype">xmpp_ctx_t *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop the event loop. </p>
<p>This will stop the event loop after the current iteration and cause xmpp_run to exit.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>a Strophe context object </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</body>
</html>
